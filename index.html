<!DOCTYPE html>
<html>
<head>
    <title>Test GLPK.js</title>
    <!-- Use o link local para o GLPK.js -->
    <script src="glpk.min.js"></script>
</head>
<body>
    <h1>Test GLPK.js</h1>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            console.log("GLPK.js load test started.");

            if (typeof GLPK === 'undefined') {
                console.error("GLPK.js is not loaded.");
                alert("GLPK.js is not loaded.");
            } else {
                console.log("GLPK.js is loaded successfully.");
                alert("GLPK.js is loaded successfully.");

                // Test solving a simple LP problem
                const problem = {
                    name: "Test Problem",
                    objective: {
                        direction: GLPK.GLP_MIN,
                        name: "obj",
                        vars: [
                            { name: "x1", coef: 1 },
                            { name: "x2", coef: 2 }
                        ]
                    },
                    subjectTo: [
                        {
                            name: "c1",
                            vars: [
                                { name: "x1", coef: 1 },
                                { name: "x2", coef: 1 }
                            ],
                            bnds: { type: GLPK.GLP_UP, ub: 5 }
                        }
                    ]
                };

                const solution = GLPK.solve(problem, GLPK.GLP_MSG_ALL);
                if (solution.status === GLPK.GLP_OPT) {
                    alert("Optimal solution found: " + JSON.stringify(solution.result));
                } else {
                    alert("No optimal solution found.");
                }
            }

            console.log("GLPK.js load test completed.");
        });
    </script>
</body>
</html>
